<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Sofpyon-framework by SofPyon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Sofpyon-framework</h1>
      <h2 class="project-tagline">MVC風なことができるシンプルなPHPフレームワーク</h2>
      <a href="https://github.com/SofPyon/SofPyon-Framework" class="btn">View on GitHub</a>
      <a href="https://github.com/SofPyon/SofPyon-Framework/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/SofPyon/SofPyon-Framework/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="sofpyon-framework-ver-α-of-α-" class="anchor" href="#sofpyon-framework-ver-%CE%B1-of-%CE%B1-" aria-hidden="true"><span class="octicon octicon-link"></span></a>SofPyon Framework( Ver. α of α )</h1>

<p>MVC風なことができるシンプルなPHPフレームワーク(超未完成・なおかつエセ)</p>

<h2>
<a id="このプログラムのレベル" class="anchor" href="#%E3%81%93%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0%E3%81%AE%E3%83%AC%E3%83%99%E3%83%AB" aria-hidden="true"><span class="octicon octicon-link"></span></a>このプログラムのレベル</h2>

<ul>
<li>
<strong>だいぶ実用的になった</strong>

<ul>
<li><a href="http://sofpyon.github.io/about_applevel.html" target="_blank">この表記について</a></li>
</ul>
</li>
</ul>

<h2>
<a id="最低動作環境" class="anchor" href="#%E6%9C%80%E4%BD%8E%E5%8B%95%E4%BD%9C%E7%92%B0%E5%A2%83" aria-hidden="true"><span class="octicon octicon-link"></span></a>最低動作環境</h2>

<ul>
<li>
<strong>PHP 5.3 以降</strong>

<ul>
<li>なるべく、最新で安定的なバージョンで利用されることをおすすめします。</li>
<li>PHP 5.3 で新たに実装された機能を利用しています。</li>
</ul>
</li>
</ul>

<h2>
<a id="特徴" class="anchor" href="#%E7%89%B9%E5%BE%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>特徴</h2>

<ul>
<li>
<strong>１ファイルフレームワーク</strong> です</li>
<li>O/Rマッピングを一切 <strong>使用していません</strong>

<ul>
<li>でも、それなりに簡単にDB操作できるはずです</li>
</ul>
</li>
<li>コントローラやモデルなどの基底クラスは <strong>自分で作ってください</strong>
</li>
<li>テンプレート使えます。ただし、テンプレートにView部分を表示させるには、 <strong><code>include $file_view;</code> させてください</strong>
</li>
<li>index コントローラの index アクションを作成すると、 <strong><a href="http://example.jp/">http://example.jp/</a> といったURLでアクセスできます</strong>

<ul>
<li>index という名前は、<code>$config['index']</code> で <strong>変更できます</strong>
</li>
</ul>
</li>
<li>404.php を作成すると、404ページになります

<ul>
<li>ただし、404.php には、MVCを <strong>採用していません</strong>
</li>
<li>でも、404ファイルの位置は、 <code>$config['404_file']</code> で <strong>変更できます</strong>
</li>
</ul>
</li>
<li>そもそも、<strong>開発者の思い通りに動いていない可能性がある</strong>

<ul>
<li>PHPの学習が不十分な段階でフレームワークを作成したため</li>
</ul>
</li>
<li>その他、設定項目は、 <code>$config</code> で変更できます</li>
</ul>

<h2>
<a id="使い方" class="anchor" href="#%E4%BD%BF%E3%81%84%E6%96%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>使い方</h2>

<p>注) 以下、開発者の <strong>願望が含まれている可能性があります</strong> 。</p>

<h3>
<a id="0-ファイル構成" class="anchor" href="#0-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E6%A7%8B%E6%88%90" aria-hidden="true"><span class="octicon octicon-link"></span></a>0. ファイル構成</h3>

<ul>
<li>
<a href="http://example.jp/">http://example.jp/</a>

<ul>
<li>.htaccess ( Apache 以外の方はご自身で作成してください )</li>
<li>oss_framework.php</li>
<li>index.php ( 添付されています )</li>
<li><strong>model</strong></li>
<li>
<strong>view</strong>

<ul>
<li><strong>template</strong></li>
</ul>
</li>
<li><strong>controller</strong></li>
</ul>
</li>
</ul>

<h3>
<a id="1-controller-を作る" class="anchor" href="#1-controller-%E3%82%92%E4%BD%9C%E3%82%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. Controller を作る</h3>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">//controller/index_controller.php</span></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">index_controller</span> {</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-c1">__construct</span>( <span class="pl-smi">$param</span> ) {</span>
<span class="pl-s1">    <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">param</span> <span class="pl-k">=</span> <span class="pl-smi">$param</span>;</span>
<span class="pl-s1">  }</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">index</span>(){</span>
<span class="pl-s1">    view( <span class="pl-c1">array</span>( <span class="pl-s"><span class="pl-pds">'</span>data<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">param</span>[<span class="pl-c1">0</span>] ) );</span>
<span class="pl-s1">  }</span>
<span class="pl-s1">}</span></pre></div>

<h3>
<a id="2-view-を作る" class="anchor" href="#2-view-%E3%82%92%E4%BD%9C%E3%82%8B" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. View を作る</h3>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">//view/index/index.php</span></span>
<span class="pl-s1"><span class="pl-en">PARAM0</span>:</span>
<span class="pl-s1"><span class="pl-k">&lt;</span>?<span class="pl-c1">php</span> <span class="pl-c1">echo</span> <span class="pl-smi">$array_view</span>[<span class="pl-s"><span class="pl-pds">'</span>data<span class="pl-pds">'</span></span>]; </span><span class="pl-pse"><span class="pl-s1">?</span>&gt;</span></pre></div>

<h3>
<a id="実行結果" class="anchor" href="#%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C" aria-hidden="true"><span class="octicon octicon-link"></span></a>実行結果</h3>

<p><a href="http://example.jp/">http://example.jp/</a></p>

<h3>
<a id="3-model-は" class="anchor" href="#3-model-%E3%81%AF" aria-hidden="true"><span class="octicon octicon-link"></span></a>3. Model は？</h3>

<div class="highlight highlight-php"><pre><span class="pl-pse">&lt;?php</span><span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c">//model/hoge_model.php</span></span>
<span class="pl-s1"><span class="pl-k">class</span> <span class="pl-en">hoge_model</span> {</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-c1">__construct</span>( <span class="pl-smi">$db</span> ) {</span>
<span class="pl-s1">    <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">db</span> <span class="pl-k">=</span> <span class="pl-smi">$db</span>;</span>
<span class="pl-s1">  }</span>
<span class="pl-s1"></span>
<span class="pl-s1">  <span class="pl-k">public</span> <span class="pl-k">function</span> <span class="pl-en">get</span>() {</span>
<span class="pl-s1">    <span class="pl-smi">$sql</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-s1"><span class="pl-k">SELECT</span> <span class="pl-k">*</span> <span class="pl-k">FROM</span> hoge_table <span class="pl-k">WHERE</span> col <span class="pl-k">=</span> :value</span><span class="pl-pds">'</span></span>;</span>
<span class="pl-s1">    <span class="pl-smi">$conditions</span> <span class="pl-k">=</span> <span class="pl-c1">array</span>( <span class="pl-s"><span class="pl-pds">'</span>:value<span class="pl-pds">'</span></span> <span class="pl-k">=&gt;</span> <span class="pl-c1">13</span> );</span>
<span class="pl-s1">    <span class="pl-k">return</span> <span class="pl-smi">$this</span><span class="pl-k">-&gt;</span><span class="pl-smi">db</span><span class="pl-k">-&gt;</span>select( <span class="pl-smi">$sql</span>, <span class="pl-smi">$conditions</span> );</span>
<span class="pl-s1">  }</span>
<span class="pl-s1"></span>
<span class="pl-s1">}</span></pre></div>

<pre><code>//Controller
$model = model( 'hoge' );
$data = $model-&gt;get();
view( array( 'data' =&gt; $data ) );
</code></pre>

<h2>
<a id="このフレームワークの趣旨について" class="anchor" href="#%E3%81%93%E3%81%AE%E3%83%95%E3%83%AC%E3%83%BC%E3%83%A0%E3%83%AF%E3%83%BC%E3%82%AF%E3%81%AE%E8%B6%A3%E6%97%A8%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" aria-hidden="true"><span class="octicon octicon-link"></span></a>このフレームワークの趣旨について</h2>

<p>このフレームワークは、いわゆる <strong>オレオレフレームワーク</strong> です。面倒な書き方をしなくてもWebアプリが作れる、という程度を目指していますので、ほかのフレームワークのように機能は充実していません。
(強いて言うなら、htmlspecialchars と echo を同時に行う h 関数がこのフレームワークには存在します)</p>

<p>このフレームワークで、例えば、コントローラ名を省略して <a href="http://example.jp/action">http://example.jp/action</a> とアクセスされた場合、 index アクションの action メソッドが呼び出されるようにしたいという際は、ご自身で <strong>oss_framework.php を編集していただくことになりますので</strong> よろしくお願いします。</p>

<p>なお、その際は、ぜひ、プルリクエストなどを行っていただけると幸いです。</p>

<h2>
<a id="その他の使い方" class="anchor" href="#%E3%81%9D%E3%81%AE%E4%BB%96%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>その他の使い方</h2>

<p>oss_framework.php を解読すればわかるはずです。</p>

<h2>
<a id="注意" class="anchor" href="#%E6%B3%A8%E6%84%8F" aria-hidden="true"><span class="octicon octicon-link"></span></a>注意</h2>

<ul>
<li>本フレームワークは、現在、アルファのアルファとして提供しています。</li>
<li>使用した際に生じた問題は、データの誤消去なども含めて保証できません。</li>
<li>何かあれば、質問するなり、Pull RequestなりPull Requestなりしてください。</li>
</ul>

<h2>
<a id="ライセンスについて" class="anchor" href="#%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" aria-hidden="true"><span class="octicon octicon-link"></span></a>ライセンスについて</h2>

<p>MIT ライセンス</p>

<p>(詳細は、LICENSE.txt をご覧ください)</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/SofPyon/SofPyon-Framework">Sofpyon-framework</a> is maintained by <a href="https://github.com/SofPyon">SofPyon</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

